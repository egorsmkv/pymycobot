class Robot320Info:
    _english_error_info = {
        "robot_error": {
            0: "Communication abnormality. Please check the wiring, servo firmware version, power supply, firmware download, baud rate, etc.",
            1: "Servo motor model error. Replace the motor.",
            2: "Servo motor firmware version is low. FD upgrade required.",
            3: "Servo motor p value abnormal. Default value: 32. Automatically recovers upon power-up.",
            4: "Servo motor D value abnormal. Default value: 8. Automatically recovers upon power-up.",
            5: "Servo motor I value abnormal. Default value: 0. Automatically recovers upon power-up.",
            6: "Servo motor clockwise dead zone parameter abnormal. Default value: 3. Automatically recovers upon power-up.",
            7: "Servo motor counterclockwise dead zone parameter abnormal. Default value: 3. Automatically recovers upon power-up.",
            8: "Servo motor phase abnormal. Automatically recovers upon power-up.",
            9: "Servo motor return delay abnormal. Default value: 0. Automatically recovers upon power-up.",
            10: "Servo motor minimum starting force abnormal. Default value: 0. Automatically recovers upon power-up.",
            11: "Overtemperature and overvoltage protection is enabled, default is 44, and it will automatically recover if the power is turned on normally.",
            12: "Servo LED alarm is enabled, default is 47, and it will automatically recover if the power is turned on normally.",
            13: "See the power-on self-test parameters for normal values. It will automatically recover if the power is turned on normally.",
            14: "Servo motor abnormality, unable to control machine movement, please query get_servo_status.",
            255: "Unknown error",
        },
        "servo_error": {
            0: "Servo motor under-voltage/over-voltage. Check the voltage. If it is 0, modify the servo parameters. If it is higher than expected, the heat sink may be damaged.",
            1: "Servo motor magnetic encoder exception",
            2: "Servo motor over-temperature",
            3: "Servo motor over-current",
            5: "Servo motor over-load",
        },
        "read_next_error": {
            0: "Emergency stop pressed",
            1: "Communication problem",
            2: "Communication unstable",
            3: "Overvoltage/undervoltage",
            4: "Magnetic encoding abnormality",
            5: "Overtemperature",
            6: "Overcurrent",
            7: "Load overload",
        },
    }
    error_info = {
        "zh_CN": _english_error_info,
        "en_US": _english_error_info,
    }


# coding=utf-8


def _interpret_status_code(language, status_code):
    # Map status codes to easy-to-understand messages
    english_messages = {
        0: "",
        1: "Error: Joint 1 proximity limit.",
        2: "Error: Joint 2 proximity limit.",
        3: "Error: Joint 3 proximity limit.",
        4: "Error: Joint 4 proximity limit.",
        5: "Error: Joint 5 proximity limit.",
        6: "Error: Joint 6 proximity limit.",
        7: "Error: Joint 7 proximity limit.",
        10: "Tip: Motion slow stop is over.",
        11: "Tip: Motion emergency stop is over.",
        32: "ERROR: Inverse kinematics has no solution. Please check whether the robot arm span is near its limit.",
        33: "Error: Straight-line motion has no adjacent solution. Please check whether the robot arm span is near its limit.",
        34: "Error: Velocity fusion error. Please check whether the robot arm span is near its limit.",
        35: "Error: Null-space motion has no adjacent solution. Please check whether the robot arm span is near its limit.",
        36: "Error: Singular position has no solution. Please move away by `send_angles()`.",
        49: "Error: Power failure. Please use the `power_on()` method to re-power on.",
        50: "Error: Motor error.",
        51: "Error: Motor encoder error.",
        52: "Error: Motor execution exception.",
        53: "Error: The joint position is out of tolerance.",
        64: "Error: The sent coordinates exceed the limit.",
        65: "Error: Joint 1 position precision exception.",
        66: "Error: Joint 2 position precision exception.",
        67: "Error: Joint 3 position precision exception.",
        68: "Error: Joint 4 position precision exception.",
        69: "Error: Joint 5 position precision exception.",
        70: "Error: Joint 6 position precision exception.",
        71: "Error: Joint 7 position precision exception.",
        81: "Error: Joint 1 collision detection exception.",
        82: "Error: Joint 2 collision detection exception.",
        83: "Error: Joint 3 collision detection exception.",
        84: "Error: Joint 4 collision detection exception.",
        85: "Error: Joint 5 collision detection exception.",
        86: "Error: Joint 6 collision detection exception.",
        87: "Error: Joint 7 collision detection exception.",
        97: "Error: Joint 1 CAN send failure.",
        98: "Error: Joint 2 CAN send failure.",
        99: "Error: Joint 3 CAN send failure.",
        100: "Error: Joint 4 CAN send failure.",
        101: "Error: Joint 5 CAN send failure.",
        102: "Error: Joint 6 CAN send failure.",
        103: "Error: Joint 7 CAN send failure.",
        113: "Error: Joint 1 CAN receive exception.",
        114: "Error: Joint 2 CAN receive exception.",
        115: "Error: Joint 3 CAN receive exception.",
        116: "Error: Joint 4 CAN receive exception.",
        117: "Error: Joint 5 CAN receive exception.",
        118: "Error: Joint 6 CAN receive exception.",
        119: "Error: Joint 7 CAN receive exception.",
        129: "Error: Joint 1 is disabled.",
        130: "Error: Joint 2 is not enabled.",
        131: "Error: Joint 3 is not enabled.",
        132: "Error: Joint 4 is not enabled.",
        133: "Error: Joint 5 is not enabled.",
        134: "Error: Joint 6 is not enabled.",
        135: "Error: Joint 7 is not enabled.",
        145: "Error: Joint 1 motor error. You can use get_motors_run_err() to obtain the details.",
        146: "Error: Joint 2 motor error. You can use get_motors_run_err() to obtain the details.",
        147: "Error: Joint 3 motor error. You can use get_motors_run_err() to obtain the details.",
        148: "Error: Joint 4 motor error. You can use get_motors_run_err() to obtain the details.",
        149: "Error: Joint 5 motor error. You can use get_motors_run_err() to obtain the details.",
        150: "Error: Joint 6 motor error. You can use get_motors_run_err() to obtain the details.",
        151: "Error: Joint 7 motor error. You can use get_motors_run_err() to obtain the details.",
        161: "Error: Joint 1 motor encoder reported an error.",
        162: "Error: Joint 2 motor encoder reported an error.",
        163: "Error: Joint 3 motor encoder reported an error.",
        164: "Error: Joint 4 motor encoder reported an error.",
        165: "Error: Joint 5 motor encoder reported an error.",
        166: "Error: Joint 6 motor encoder reported an error.",
        167: "Error: Joint 7 motor encoder reported an error.",
        193: "Error: Joint 1 motor position is out of tolerance.",
        194: "Error: Joint 2 motor position is out of tolerance.",
        195: "Error: Joint 3 motor position is out of tolerance.",
        196: "Error: Joint 4 motor position is out of tolerance.",
        197: "Error: Joint 5 motor position is out of tolerance.",
        198: "Error: Joint 6 motor position is out of tolerance.",
        199: "Error: Joint 7 motor position is out of tolerance.",
        255: "Error: Unknown error code: ",
    }
    status_messages = {
        "zh_CN": english_messages,
        "en_US": english_messages,
    }
    return status_messages[language].get(
        status_code, status_messages[language].get(255) + str(status_code)
    )


class RobotLimit:
    robot_limit = {
        "Mercury": {
            "joint_id": [1, 2, 3, 4, 5, 6, 7, 11, 12, 13],
            "angles_min": [
                -165,
                -50,
                -165,
                -165,
                -165,
                -75,
                -165,
                -55,
                -70,
                -160,
            ],
            "angles_max": [165, 120, 165, 1, 165, 255, 165, 0, 245, 160],
            "coords_min": [-459, -459, -300, -180, -180, -180],
            "coords_max": [459, 459, 542, 180, 180, 180],
            "left_coords_min": [-351.11, -272.12, -262.91, -180, -180, -180],
            "left_coords_max": [566.92, 645.91, 655.13, 180, 180, 180],
            "right_coords_min": [-351.11, -645.91, -262.91, -180, -180, -180],
            "right_coords_max": [566.92, 272.12, 655.13, 180, 180, 180],
        },
        "MercurySocket": {
            "joint_id": [1, 2, 3, 4, 5, 6, 7, 11, 12, 13],
            "angles_min": [
                -165,
                -50,
                -165,
                -165,
                -165,
                -75,
                -165,
                -55,
                -70,
                -160,
            ],
            "angles_max": [165, 120, 165, 1, 165, 255, 165, 0, 245, 160],
            "coords_min": [-459, -459, -300, -180, -180, -180],
            "coords_max": [459, 459, 542, 180, 180, 180],
            "left_coords_min": [-351.11, -272.12, -262.91, -180, -180, -180],
            "left_coords_max": [566.92, 645.91, 655.13, 180, 180, 180],
            "right_coords_min": [-351.11, -645.91, -262.91, -180, -180, -180],
            "right_coords_max": [566.92, 272.12, 655.13, 180, 180, 180],
        },
        "MyCobot": {
            "id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-168, -135, -150, -145, -165, -180],
            "angles_max": [168, 135, 150, 145, 165, 180],
            "coords_min": [-350, -350, -70, -180, -180, -180],
            "coords_max": [350, 350, 523.9, 180, 180, 180],
        },
        "MyCobotSocket": {
            "id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-168, -135, -150, -145, -165, -180],
            "angles_max": [168, 135, 150, 145, 165, 180],
            "coords_min": [-350, -350, -70, -180, -180, -180],
            "coords_max": [350, 350, 523.9, 180, 180, 180],
        },
        "MyCobot280": {
            "id": [1, 2, 3, 4, 5, 6],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "angles_min": [-168, -140, -150, -150, -155, -180],
            "angles_max": [168, 140, 150, 150, 160, 180],
            "coords_min": [-281.45, -281.45, -70, -180, -180, -180],
            "coords_max": [281.45, 281.45, 412.67, 180, 180, 180],
        },
        "MyCobot280RDK-X5": {
            "joint_id": [1, 2, 3, 4, 5, 6],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-168, -135, -150, -145, -155, -180],
            "angles_max": [168, 135, 150, 145, 160, 180],
            "coords_min": [-281.45, -281.45, -70, -180, -180, -180],
            "coords_max": [281.45, 281.45, 412.67, 180, 180, 180],
        },
        "MyCobot280Socket": {
            "id": [1, 2, 3, 4, 5, 6],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "angles_min": [-168, -140, -150, -150, -155, -180],
            "angles_max": [168, 140, 150, 150, 160, 180],
            "coords_min": [-281.45, -281.45, -70, -180, -180, -180],
            "coords_max": [281.45, 281.45, 412.67, 180, 180, 180],
        },
        "MyCobot320": {
            "id": [1, 2, 3, 4, 5, 6],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-168, -135, -145, -145, -168, -180],
            "angles_max": [168, 135, 145, 145, 168, 180],
            "coords_min": [-350, -350, -41, -180, -180, -180],
            "coords_max": [350, 350, 523.9, 180, 180, 180],
        },
        "MyCobot320Socket": {
            "id": [1, 2, 3, 4, 5, 6],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-168, -135, -145, -145, -168, -180],
            "angles_max": [168, 135, 145, 145, 168, 180],
            "coords_min": [-350, -350, -41, -180, -180, -180],
            "coords_max": [350, 350, 523.9, 180, 180, 180],
        },
        "MechArm": {
            "id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-165, -90, -180, -165, -115, -175],
            "angles_max": [165, 90, 70, 165, 115, 175],
            "coords_min": [-272, -272, -36, -180, -180, -180],
            "coords_max": [272, 272, 408.9, 180, 180, 180],
        },
        "MechArm270": {
            "id": [1, 2, 3, 4, 5, 6],
            "angles_min": [-160, -75, -175, -155, -115, -180],
            "angles_max": [160, 120, 65, 155, 115, 180],
            "coords_min": [-272, -272, -86, -180, -180, -180],
            "coords_max": [272, 272, 408.9, 180, 180, 180],
        },
        "MechArmSocket": {
            "id": [1, 2, 3, 4, 5, 6],
            "angles_min": [-160, -75, -175, -155, -115, -180],
            "angles_max": [160, 120, 65, 155, 115, 180],
            "coords_min": [-272, -272, -86, -180, -180, -180],
            "coords_max": [272, 272, 408.9, 180, 180, 180],
        },
        "MyArm": {
            "id": [1, 2, 3, 4, 5, 6, 7, 8],
            "angles_min": [-160, -70, -170, -113, -170, -115, -180],
            "angles_max": [160, 115, 170, 75, 170, 115, 180],
            "coords_min": [-310, -310, -140, -180, -180, -180],
            "coords_max": [310, 310, 480, 180, 180, 180],
        },
        "MyArmC": {
            "joint_id": [1, 2, 3, 4, 5, 6, 7],
            "servo_id": [1, 2, 3, 4, 5, 6, 7, 8],
            "angles_min": [-165, -80, -100, -160, -90, -180],
            "angles_max": [165, 100, 80, 160, 90, 180],
        },
        "MyArmM": {
            "joint_id": [1, 2, 3, 4, 5, 6, 7],
            "servo_id": [1, 2, 3, 4, 5, 6, 7, 8],
            "angles_min": [-165, -60, -90, -150, -91, -150, -118],
            "angles_max": [165, 95, 75, 150, 88, 150, 2],
            "encoders_min": [114, 1200, 1200, 1024, 286, 1013, 307, 706],
            "encoders_max": [3981, 2991, 2991, 3002, 3788, 3048, 3788, 2068],
        },
        "MyArmMControl": {
            "joint_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6, 7, 8],
            "coord_id": [1, 2, 3, 4, 5, 6],
            "coord_min": [-833.325, -833.325, -351.11, -180, -180, -180],
            "coord_max": [833.325, 833.325, 1007.225, 180, 180, 180],
            "angles_min": [-165, -80, -100, -160, -90, -180, -118],
            "angles_max": [165, 100, 80, 160, 120, 180, 2],
            "encoders_min": [137, 1163, 1035, 1013, 248, 979, 220, 706],
            "encoders_max": [4004, 2945, 3079, 3026, 3724, 2994, 3704, 2048],
        },
        "MyArmSocket": {
            "id": [1, 2, 3, 4, 5, 6, 7, 8],
            "angles_min": [-160, -70, -170, -113, -170, -115, -180],
            "angles_max": [160, 115, 170, 75, 170, 115, 180],
            "coords_min": [-310, -310, -140, -180, -180, -180],
            "coords_max": [310, 310, 480, 180, 180, 180],
        },
        "MyPalletizer": {
            "id": [1, 2, 3, 4, 7],
            "angles_min": [-162, -2, -92, -180],
            "angles_max": [162, 90, 60, 180],
            "coords_min": [-260, -260, -15, -180],
            "coords_max": [260, 260, 357.58, 180],
        },
        "MyPalletizer260": {
            "id": [1, 2, 3, 4],
            "angles_min": [-162, -2, -92, -180],
            "angles_max": [162, 90, 60, 180],
            "coords_min": [-260, -260, -15, -180],
            "coords_max": [260, 260, 357.58, 180],
        },
        "MyPalletizerSocket": {
            "id": [1, 2, 3, 4],
            "angles_min": [-162, -2, -92, -180],
            "angles_max": [162, 90, 60, 180],
            "coords_min": [-260, -260, -15, -180],
            "coords_max": [260, 260, 357.58, 180],
        },
        "UltraArm": {
            "id": [1, 2, 3, 4, 7],
            "angles_min": [-150, -20, -5, -179],
            "angles_max": [170, 90, 110, 179],
            "coords_min": [-360, -365.55, -140, -180],
            "coords_max": [365.55, 365.55, 130, 180],
        },
        "MyBuddy": {
            "id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-165, -165, -165, -165, -165, -175],
            "angles_max": [165, 165, 165, 165, 165, 175],
            "waist_angle_min": -120,
            "waist_angle_max": 120,
            "left_coords_min": [0, -40, 0, -180, -180, -180],
            "left_coords_max": [250, 260, 480, 180, 180, 180],
            "right_coords_min": [0, -260, 0, -180, -180, -180],
            "right_coords_max": [250, 40, 480, 180, 180, 180],
        },
        "MyBuddySocket": {
            "id": [1, 2, 3, 4, 5, 6, 7],
            "angles_min": [-165, -165, -165, -165, -165, -175],
            "angles_max": [165, 165, 165, 165, 165, 175],
            "waist_angle_min": -120,
            "waist_angle_max": 120,
            "left_coords_min": [0, -40, 0, -180, -180, -180],
            "left_coords_max": [250, 260, 480, 180, 180, 180],
            "right_coords_min": [0, -260, 0, -180, -180, -180],
            "right_coords_max": [250, 40, 480, 180, 180, 180],
        },
        "Pro630": {
            "joint_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6],
            "coord_id": (1, 2, 3, 4, 5, 6),
            "angles_min": [-180, -45, -165, -90, -180, -180],
            "angles_max": [180, 225, 165, 270, 180, 180],
            "coords_min": [-630, -630, -425, -180, -180, -180],
            "coords_max": [630, 630, 835, 180, 180, 180],
        },
        "Pro450Client": {
            "joint_id": [1, 2, 3, 4, 5, 6],
            "servo_id": [1, 2, 3, 4, 5, 6],
            "coord_id": (1, 2, 3, 4, 5, 6),
            "angles_min": [-165, -120, -158, -165, -165, -175],
            "angles_max": [165, 120, 158, 165, 165, 175],
            "coords_min": [-466, -466, -230, -180, -180, -180],
            "coords_max": [466, 466, 614, 180, 180, 180],
        },
        "ultraArmP340": {
            "joint_id": [1, 2, 3, 4],
            "servo_id": [1, 2, 3, 4],
            "coord_id": ["X", "Y", "Z", "E"],
            "angles_min": [-150, -20, -5, -179],
            "angles_max": [170, 90, 110, 179],
            "coords_min": [-360, -365.55, -140, -180],
            "coords_max": [366.55, 365.55, 130, 180],
        },
    }
